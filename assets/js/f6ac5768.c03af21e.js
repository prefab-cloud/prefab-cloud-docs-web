"use strict";(self.webpackChunkprefab_cloud_docs_web=self.webpackChunkprefab_cloud_docs_web||[]).push([[871],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>b});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(r),f=a,b=p["".concat(l,".").concat(f)]||p[f]||d[f]||o;return r?n.createElement(b,i(i({ref:t},u),{},{components:r})):n.createElement(b,i({ref:t},u))}));function b(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=f;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:a,i[1]=s;for(var c=2;c<o;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},5609:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var n=r(7462),a=(r(7294),r(3905));const o={title:"Reliability",sidebar_label:"Reliability",sidebar_position:3},i=void 0,s={unversionedId:"explanations/resiliency",id:"explanations/resiliency",title:"Reliability",description:"What if Prefab.cloud goes down?",source:"@site/docs/explanations/resiliency.md",sourceDirName:"explanations",slug:"/explanations/resiliency",permalink:"/docs/explanations/resiliency",draft:!1,editUrl:"https://github.com/prefab-cloud/prefab-cloud-docs-web/tree/main/docs/explanations/resiliency.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Reliability",sidebar_label:"Reliability",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Default Files",permalink:"/docs/explanations/defaults"},next:{title:"Rules and Segmentation",permalink:"/docs/explanations/rules-and-segmentation"}},l={},c=[{value:"What if Prefab.cloud goes down?",id:"what-if-prefabcloud-goes-down",level:2},{value:"Server SDK Clients run on local copies of data",id:"server-sdk-clients-run-on-local-copies-of-data",level:3},{value:"Starting New Clients",id:"starting-new-clients",level:3},{value:"Belts &amp; Suspenders &amp; More Suspenders",id:"belts--suspenders--more-suspenders",level:3}],u={toc:c},p="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(p,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"what-if-prefabcloud-goes-down"},"What if Prefab.cloud goes down?"),(0,a.kt)("p",null,"Uptime is incredibly important to us at Prefab but configuration is critical infrastructure so it is important to have a belt & suspenders approach.\nWe have a couple sets of suspenders actually."),(0,a.kt)("h3",{id:"server-sdk-clients-run-on-local-copies-of-data"},"Server SDK Clients run on local copies of data"),(0,a.kt)("p",null,"Prefab clients store all config locally so they are robust to network blips or outages."),(0,a.kt)("p",null,"If a connection is lost for any reason, your services continue to work as is because they keep config locally, but they will not be able to receive new configuration."),(0,a.kt)("h3",{id:"starting-new-clients"},"Starting New Clients"),(0,a.kt)("p",null,"Your services don't run indefinitely however. New pods or servers will spin up and they need to pull down configuration as they boot."),(0,a.kt)("p",null,"Enter the beauty of immutable distributed logs. They are perfectly cacheable. One single blob of bytes can describe your entire configuration and we can aggressively cache this in CDNs. As long as your services can still connect to Fast.ly your services can get the latest configuration."),(0,a.kt)("h3",{id:"belts--suspenders--more-suspenders"},"Belts & Suspenders & More Suspenders"),(0,a.kt)("p",null,"Here's how the load order works for ",(0,a.kt)("a",{parentName:"p",href:"./server-sdks"},"Server SDKs"),":"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"First, the SDKs make a request to the Prefab HTTP APIs, cached by ",(0,a.kt)("a",{parentName:"li",href:"https://Fast.ly"},"Fast.ly"),". This cache is soft purged when you make configuration updates."),(0,a.kt)("li",{parentName:"ol"},"If this fails, the SDKs will make a request to the Prefab GRPC APIs, which are running on the same Prefab infrastructure, but are a separate service."),(0,a.kt)("li",{parentName:"ol"},"If this fails, the SDKs will make a request to the Prefab JSON APIs. This would help in the event of a Fast.ly outage.")),(0,a.kt)("p",null,"That's a lot of redundancy and we've got more coming soon."),(0,a.kt)("p",null,"There's more discussion of these bootstrapping files in ",(0,a.kt)("a",{parentName:"p",href:"/docs/explanations/bootstrapping"},"bootstrapping"),"."))}d.isMDXComponent=!0}}]);